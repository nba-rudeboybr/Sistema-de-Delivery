<!-- src/app/components/dish-management/dish-management.component.html -->

<div class="dish-management-container">
  <div class="header">
    <h1>ğŸ½ï¸ Gerenciamento de CardÃ¡pio</h1>
    <div class="header-actions">
      <button class="btn btn-primary" (click)="createNewDish()">
        â• Novo Prato
      </button>
    </div>
  </div>

  <!-- FormulÃ¡rio para Novo/Editar Prato -->
  <div class="new-dish-form" *ngIf="showNewDishForm">
    <div class="form-card">
      <h3>{{ editingDish ? 'Editar Prato' : 'Novo Prato' }}</h3>
      <div class="form-group">
        <label for="dishName">Nome do Prato:</label>
        <input 
          type="text" 
          id="dishName" 
          [(ngModel)]="newDish.name" 
          class="form-control"
          placeholder="Ex: Pizza Margherita"
        >
      </div>
      <div class="form-group">
        <label for="dishDescription">DescriÃ§Ã£o:</label>
        <textarea 
          id="dishDescription" 
          [(ngModel)]="newDish.description" 
          class="form-control"
          rows="3"
          placeholder="Descreva o prato..."
        ></textarea>
      </div>
      <div class="form-group">
        <label for="dishPrice">PreÃ§o (R$):</label>
        <input 
          type="number" 
          id="dishPrice" 
          [(ngModel)]="newDish.price" 
          class="form-control"
          min="0"
          step="0.01"
          placeholder="0.00"
        >
      </div>
      <div class="form-actions">
        <button 
          class="btn btn-success" 
          (click)="saveDish()" 
          [disabled]="!newDish.name || newDish.price <= 0"
        >
          {{ editingDish ? 'ğŸ’¾ Atualizar' : 'âœ… Salvar' }}
        </button>
        <button class="btn btn-secondary" (click)="cancelEdit()">
          âŒ Cancelar
        </button>
      </div>
    </div>
  </div>

  <!-- Lista de Pratos -->
  <div class="dishes-section">
    <h2>ğŸ“‹ CardÃ¡pio Atual</h2>
    <div class="dishes-grid" *ngIf="dishes.length > 0; else noDishes">
      <div class="dish-card" *ngFor="let dish of dishes">
        <div class="dish-header">
          <h3>{{ dish.name }}</h3>
          <div class="dish-actions">
            <button 
              class="btn btn-warning btn-sm" 
              (click)="editDish(dish)"
            >
              âœï¸ Editar
            </button>
            <button 
              class="btn btn-danger btn-sm" 
              (click)="deleteDish(dish)"
            >
              ğŸ—‘ï¸ Excluir
            </button>
          </div>
        </div>
        
        <div class="dish-content">
          <p class="dish-description">{{ dish.description }}</p>
          <p class="dish-price">R$ {{ dish.price.toFixed(2) }}</p>
        </div>
      </div>
    </div>
    
    <ng-template #noDishes>
      <div class="no-dishes">
        <p>Nenhum prato cadastrado ainda.</p>
        <p>Clique em "â• Novo Prato" para comeÃ§ar!</p>
      </div>
    </ng-template>
  </div>
</div>
